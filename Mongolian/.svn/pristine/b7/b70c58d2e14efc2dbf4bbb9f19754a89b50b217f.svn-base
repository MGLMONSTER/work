webpackJsonp([96,109],{D4fC:function(e,t,i){"use strict";(function(e){var n=i("B+Uh"),s=i("TIfe"),a=i("bVh7"),l=i("E7jK"),o=i("IcnI");l.default.component("UE",a.default),t.a={name:"otlMeeting",data:function(){return{defaultMsg:"这里是测试数据",config:{initialFrameWidth:null,initialFrameHeight:350,serverUrl:"/static/ueditor/jsp/controller.jsp"},form:{meetingTitle:void 0,title:void 0,beginTime:void 0,place:void 0,needApply:void 0,applyStatus:void 0,applyUid:void 0,meetingStatus:void 0,createdUid:void 0,readTotal:void 0,createdTime:void 0,updatedTime:void 0,mid:void 0,comperePhone:""},formMeet:{mtid:"",title:"",beginTime:"",endTime:void 0,place:"",needApply:"",accepts:"",applyStatus:void 0,applyUid:void 0,meetingStatus:void 0,createdUid:void 0,readTotal:void 0,createdTime:void 0,updatedTime:void 0,meetingDeptid:void 0,compere:"",comperePhone:"",remarks:"",attendance:"",lifeType:void 0},formMeetType:{needApply:void 0,title:void 0,content:"",createdUid:void 0,status:void 0,createdTime:void 0},place:null,UEcontent:null,list:null,tlist:null,total:null,ompTotal:null,ompList:null,listLoading:!0,OmplistLoading:!0,LODOP:null,placeBeginTime:null,listQueryt:{page:null,limit:null,mTId:void 0},userId:o.a.state.user.userId,listQuery:{page:1,limit:10,title:void 0,beginTime:void 0,createdUid:o.a.state.user.userId,lifeType:4},textarea:"",data:[],defaultProps:{children:"childList",label:"name"},tree:[],meetingMessage:null,listQueryOmp:{page:1,limit:10,mId:void 0},modalClose:!1,templateOptions:[],places:[],MeetField:[],meetTypes:[{meetTypeName:"通知",meetTypeId:0}],formTemplate:{meetName:void 0,mtid:void 0},templateRule:{mtid:[{required:!0,message:"请选择模板"}]},meet:{title:[{required:!0,message:"请输入活动主题",trigger:"blur"},{max:30,message:"活动主题长度在30个字符之内"}],needApply:[{required:!0,message:"请选择类型"}],place:[{required:!0,message:"请选择活动地点",trigger:"change"}],beginTime:[{required:!0,message:"请选择开始时间",trigger:"change"}],endTime:[{required:!0,message:"请选择结束时间",trigger:"change"}],compere:[{max:20,message:"主持人姓名长度在20个字符之内"}],comperePhone:[{type:"number",message:"联系方式必须为数字值"},{max:10,message:"主持人联系方式长度在11个字符之内"}],remarks:[{max:120,message:"会议说明长度在120个字符之内"}],attendance:[{max:120,message:"列席人员姓名总长度在120个字符之内"}]},meetResult:{content:[{max:120,message:"评论长度在120个字符之内"}]},extendRules:{extendValue:[{max:1e4,message:"活动及如果长度在1万个字符之内"}]},flag:!0,omr:null,ommVo:null,omp:null,resultList:null,ResultListLoading:!0,resultTotal:null,listQueryResult:{page:1,limit:10,mId:void 0},formMeetResult:{mId:void 0,content:void 0,createdUid:o.a.state.user.userId},MeetResultEntity:null,dialogFormVisible:!1,dialogTemplate:!1,dialogStatus:"",otlMeetingManager_btn_edit:!0,otlMeetingManager_btn_del:!1,otlMeetingManager_btn_add:!0,extendInfoFalg:1,extendDialogForm:!1,extendValueMapper:void 0,textMap:{update:"编辑",create:"创建"},sumReadAndSisgnin:[],uuidInfo:"",addMeetVLoading:!1,ifshow:!1,tableKey:0,tableKey1:1,id:Object(s.f)(),extendDisabled:!1,extendInfoForm:{mId:void 0,extendValue:void 0,createdTime:void 0,createdUid:o.a.state.user.userId},fileList3:[],upLoadData:{mId:void 0,createdUid:o.a.state.user.userId},Headers:{Authorization:Object(s.d)()},activeNames:[],activeNames2:[],activeNames3:[],stepsActive:0,showVideoButton:!1,stepsActiveTitle:{title1:"准备",title2:"签到",title3:"进行",title4:"总结",description1:"",description2:"",description3:"",description4:"",description5:""}}},created:function(){this.getList()},methods:{OnError:function(e,t){this.$message({type:"error",message:t.name+"上传失败"})},handleRemove:function(e){var t=this;Object(n.a)(e.id).then(function(e){t.getDownLoadList(t.upLoadData.mId),Object(n.j)(t.upLoadData.mId).then(function(e){t.fileTypeNum=e}),t.$message({type:"success",message:"删除成功"})})},OnSuccess:function(e,t){this.$message({type:"success",message:t.name+"上传成功"})},printContent:function(){var e=document.getElementById("subOutputRank-print").innerHTML,t=document.body.innerHTML;return document.body.innerHTML=e,window.print(),window.location.reload(),document.body.innerHTML=t,!1},checkChange:function(e){this.tree=this.$refs.tree.getCheckedKeys(!0)},getList:function(){var e=this;this.listLoading=!0,Object(n.q)(this.listQuery).then(function(t){e.list=t.data.rows,e.total=t.data.total,e.listLoading=!1}),Object(n.r)().then(function(t){e.formMeetType=t.data.rows,e.templateOptions=t.data.rows}),Object(n.o)(this.id).then(function(t){e.places=t}),Object(n.s)(this.id).then(function(t){e.data=t})},getOmpList:function(){var e=this;this.OmplistLoading=!0,Object(n.p)(this.listQueryOmp).then(function(t){e.ompList=t.data.rows,e.ompTotal=t.data.total,e.OmplistLoading=!1})},needType:function(){0===this.formMeet.needApply?this.formMeet.accepts="下级党组织":1===this.formMeet.needApply&&(this.formMeet.accepts="上级党组织党务工作者")},createTemplate:function(e){var t=this,i=this.$refs;i[e].validate(function(e){e&&(t.flag=!1,Object(n.k)(t.formTemplate.mtid).then(function(e){t.formMeetType=e.data}))}),i[e].resetFields()},placeChange:function(e){var t=this;Object(n.m)(e).then(function(e){t.place=e.data})},Release:function(t){var i=this;this.tree=this.$refs.tree.getCheckedNodes(!0),null!=this.formMeet.compere&&""!=this.formMeet.compere?this.meetingMessage="《"+this.formMeet.title+"》将于 "+this.formMeet.beginTime+" 至 "+this.formMeet.endTime+" 在 "+this.place.place+" 召开,请按时到达。请主持人 "+this.formMeet.compere+" 准备好活动材料并提前到场。":this.meetingMessage="《"+this.formMeet.title+"》将于 "+this.formMeet.beginTime+" 至 "+this.formMeet.endTime+" 在 "+this.place.place+" 召开,请按时到达。",this.formMeet.mtid=this.formMeetType.mtid,this.formMeet.id=this.uuidInfo,this.formMeet.lifeType=4,this.formMeet.createdUid=this.userId,this.formMeet.meetingDeptid=Object(s.f)();var a=this.$refs;a[t].validate(function(s){s&&i.$confirm("确认开展其他组织生活活动么?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){i.addMeetVLoading=!0,Object(n.c)(i.formMeet).then(function(s){i.listQueryt.mTId=i.formMeetType.mtid,Object(n.u)(i.listQueryt).then(function(s){i.tlist=s.data.rows;for(var l=0;l<i.tlist.length;l++){e("#"+i.tlist[l].fieldId).val();i.MeetField.push({field:i.tlist[l].field,fieldId:i.tlist[l].fieldId,fieldType:i.tlist[l].fieldType,fieldValue:e("#"+i.tlist[l].fieldId).val()})}i.MeetField.forEach(function(e,t){Object(n.d)(e).then(function(){})}),0!=i.tree.length&&Object(n.e)(i.tree,i.meetingMessage).then(function(e){i.tlist=void 0,i.MeetField=[],i.dialogTemplate=!1,i.$store.commit("ZuzInfo",(new Date).getTime()),i.addMeetVLoading=!1,i.$notify({title:"成功",message:"发布成功",type:"success",duration:2e3}),a[t].resetFields(),i.flag=!0,i.getList()})})}),null!=i.place&&(i.place.total=++i.place.total,Object(n.v)(i.formMeet.place,i.place).then(function(){}))}).catch(function(){i.$message({type:"info",message:"该次发布被取消了~"})})})},handleFilter:function(){console.log(this.listQuery.beginTime),this.getList()},handleSizeChange:function(e){this.listQuery.limit=e,this.getList()},handleCurrentChange:function(e){this.listQuery.page=e,this.getList()},handleResultSizeChange:function(e){this.listQueryResult.limit=e,this.getMeetResult()},handleResultCurrentChange:function(e){this.listQueryResult.page=e,this.getMeetResult()},getMeetResult:function(){var e=this;this.ResultListLoading=!0,Object(n.w)(this.listQueryResult).then(function(t){e.resultList=t.data.rows,e.resultTotal=t.data.total,e.ResultListLoading=!1})},addMeetResult:function(e){var t=this;this.$refs[e].validate(function(e){console.log(e),e&&(t.formMeetResult.mId=t.form[0].mid,Object(n.f)(t.formMeetResult).then(function(){t.$notify({title:"成功",message:"创建成功",type:"success",duration:2e3}),t.formMeetResult.content=void 0,t.getMeetResult()}))})},handleCreate:function(){var e=this;this.dialogTemplate=!0,Object(n.h)("4",this.id).then(function(t){0!=t.length&&(e.formMeet=t[0],e.formMeet.comperePhone=parseInt(e.formMeet.comperePhone),e.placeChange(e.formMeet.place))}),this.uuidInfo=this.uuid(),this.upLoadData.mId=this.uuidInfo,this.fileList3=null},uuid:function(){for(var e=[],t=0;t<36;t++)e[t]="0123456789abcdef".substr(Math.floor(16*Math.random()),1);e[14]="4",e[19]="0123456789abcdef".substr(3&e[19]|8,1),e[8]=e[13]=e[18]=e[23]="-";var i=e.join("");return i},timeFormat:function(e){var t=e.replace("年","/").replace("月","/").replace("日","").replace("时",":").replace("分","");return new Date(t).getTime()},handleUpdate:function(e){var t=this;Object(n.l)(e).then(function(i){t.form=i.data.rows,t.ommVo=t.form[0].ommVo,Object(n.n)(e).then(function(e){t.sumReadAndSisgnin=e.data;var i=t.timeFormat(t.form[0].beginTime),n=t.timeFormat(t.form[0].endTime);console.log(i),console.log((new Date).getTime()),console.log(i-(new Date).getTime()),2!=t.form[0].meetingStatus&&i-(new Date).getTime()<=36e5?t.showVideoButton=!0:t.showVideoButton=!1,2==t.form[0].meetingStatus&&(new Date).getTime()-n>=2592e5?(t.stepsActive=5,t.stepsActiveTitle.title1="准备完成",t.stepsActiveTitle.title2="签到结束",t.stepsActiveTitle.title3="活动完成",t.stepsActiveTitle.title4="总结结束",t.stepsActiveTitle.description1="开始于"+t.form[0].beginTime,t.stepsActiveTitle.description2="已签到"+t.sumReadAndSisgnin.sumIsSisgnin+"人|未签到"+t.sumReadAndSisgnin.sumNotSisgnin+"人",t.stepsActiveTitle.description3="完成于"+t.form[0].endTime,t.stepsActiveTitle.description4="评论与总结关闭",t.stepsActiveTitle.description5="活动圆满结束"):2==t.form[0].meetingStatus&&(new Date).getTime()-n<2592e5?(t.stepsActive=4,t.stepsActiveTitle.title1="准备完成",t.stepsActiveTitle.title2="签到结束",t.stepsActiveTitle.title3="活动完成",t.stepsActiveTitle.title4="活动总结中...",t.stepsActiveTitle.description1="开始于"+t.form[0].beginTime,t.stepsActiveTitle.description2="已签到"+t.sumReadAndSisgnin.sumIsSisgnin+"人|未签到"+t.sumReadAndSisgnin.sumNotSisgnin+"人",t.stepsActiveTitle.description3="完成于"+t.form[0].endTime,t.stepsActiveTitle.description4="评论与总结限时开放，大家快来发表感受吧~",t.stepsActiveTitle.description5=""):1==t.form[0].meetingStatus?(t.stepsActive=3,t.stepsActiveTitle.title1="准备完成",t.stepsActiveTitle.title2="签到结束",t.stepsActiveTitle.title3="进行中...",t.stepsActiveTitle.title4="总结",t.stepsActiveTitle.description1="开始于"+t.form[0].beginTime,t.stepsActiveTitle.description2="已签到"+t.sumReadAndSisgnin.sumIsSisgnin+"人|未签到"+t.sumReadAndSisgnin.sumNotSisgnin+"人",t.stepsActiveTitle.description3="活动开始了，可以点击标题旁的视频会议入口进行视频会议",t.stepsActiveTitle.description4="",t.stepsActiveTitle.description5=""):0==t.form[0].meetingStatus&&i-(new Date).getTime()<=36e5?(t.stepsActive=2,t.stepsActiveTitle.title1="准备完成",t.stepsActiveTitle.title2="签到中...",t.stepsActiveTitle.title3="进行",t.stepsActiveTitle.title4="总结",t.stepsActiveTitle.description1="将于"+t.form[0].beginTime+"正式开始",t.stepsActiveTitle.description2="已签到"+t.sumReadAndSisgnin.sumIsSisgnin+"人|未签到"+t.sumReadAndSisgnin.sumNotSisgnin+"人",t.stepsActiveTitle.description3="",t.stepsActiveTitle.description4="",t.stepsActiveTitle.description5=""):0==t.form[0].meetingStatus&&(t.stepsActive=1,t.stepsActiveTitle.title1="准备中...",t.stepsActiveTitle.title2="签到",t.stepsActiveTitle.title3="进行",t.stepsActiveTitle.title4="总结",t.stepsActiveTitle.description1="参与人员准备活动材料中...",t.stepsActiveTitle.description2="",t.stepsActiveTitle.description3="",t.stepsActiveTitle.description4="",t.stepsActiveTitle.description5=""),2==t.form[0].meetingStatus?t.ifshow=!0:t.ifshow=!1,t.dialogFormVisible=!0,t.dialogStatus=t.form[0].title})}),Object(n.j)(e).then(function(e){t.fileTypeNum=e,console.log(e)}),this.activeNames=[],this.activeNames2=[],this.activeNames3=[],this.upLoadData.mId=e,this.listQueryOmp.mId=e,this.listQueryResult.mId=e,this.getExtendInfo(e)},updateMeetStateMethod:function(e){var t=this;this.$confirm("此操作将取消该次活动, 确认么?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){Object(n.y)(e).then(function(e){console.log(e),t.$message({type:"success",message:"该次活动已取消!"}),t.getList()})}).catch(function(){t.$message({type:"info",message:"该次活动被保留了~"})})},handleOmpSizeChange:function(e){this.listQueryOmp.limit=e,this.getOmpList()},handleOmpCurrentChange:function(e){this.listQueryOmp.page=e,this.getOmpList()},goBack:function(){this.dialogFormVisible=!1,this.flag=!0},cancel:function(e){this.dialogTemplate=!1,this.flag=!0,this.$refs[e].resetFields()},getExtendInfo:function(e){var t=this;Object(n.i)(e).then(function(e){null!=e.data?(t.extendInfoForm=e.data,t.extendValueMapper=t.extendInfoForm.extendValue,t.extendInfoFalg=2):(t.extendInfoForm.extendValue=void 0,t.extendValueMapper=void 0,t.extendInfoFalg=1),t.extendDisabled=!1})},createExtendInfo:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return!1;t.extendDisabled=!0,t.extendInfoForm.mId=t.form[0].mid,t.extendInfoForm.createdUid=o.a.state.user.userId,Object(n.b)(t.extendInfoForm).then(function(){t.getExtendInfo(t.form[0].mid),t.$notify({title:"成功",message:"创建成功",type:"success",duration:2e3})})})},cancelExtendInfo:function(e){this.dialogFormVisible=!1,this.$refs[e].resetFields()},handleChange:function(e,t){var i=this;this.getDownLoadList(this.upLoadData.mId),Object(n.j)(this.upLoadData.mId).then(function(e){i.fileTypeNum=e})},updateExtendInfo:function(e){var t=this;this.$refs[e].validate(function(e){e&&(t.extendDisabled=!0,Object(n.x)(t.extendInfoForm).then(function(){t.extendDialogForm=!1,t.getExtendInfo(t.extendInfoForm.mId),t.$notify({title:"成功",message:"修改成功",type:"success",duration:2e3})}))})},download:function(e){this.$axios({url:"/api/olt/otlMeeting/enclosureDownLoad?id="+e.id,method:"get",headers:{Authorization:Object(s.d)()},responseType:"blob"}).then(function(t){console.log(t);var i=window.URL.createObjectURL(new Blob([t.data])),n=document.createElement("a");n.style.display="none",n.href=i,n.setAttribute("download",e.fileName+"."+e.fileType),document.body.appendChild(n),n.click()}).catch(function(e){console.log(e)})},getDownLoadList:function(e){var t=this;Object(n.g)(e).then(function(e){t.fileList3=e})},dialogHandleChange:function(e){1==e[0]?this.getDownLoadList(this.upLoadData.mId):2==e[0]?this.getOmpList():3==e[0]&&this.getMeetResult()},videoconferencing:function(e){window.open(e)}}}}).call(t,i("slT5"))},bVh7:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={name:"UE",data:function(){return{editor:null}},props:{defaultMsg:{type:String},config:{type:Object}},mounted:function(){var e=this;this.editor=UE.getEditor("editor",this.config),this.editor.addListener("ready",function(){e.editor.setContent(e.defaultMsg)})},methods:{getUEContent:function(){return this.editor.getContentTxt()}},destroyed:function(){this.editor.destroy()}},s={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("script",{attrs:{id:"editor",type:"text/plain"}})])}]},a=i("/Xao")(n,s,!1,null,null,null);t.default=a.exports},dDxm:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i("D4fC"),s={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"app-container calendar-list-container"},[i("div",{staticClass:"filter-container"},[i("el-input",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{placeholder:"活动主题"},nativeOn:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key))return null;e.handleFilter(t)}},model:{value:e.listQuery.title,callback:function(t){e.$set(e.listQuery,"title",t)},expression:"listQuery.title"}}),e._v(" "),i("el-date-picker",{staticStyle:{bottom:"4px"},attrs:{type:"month",placeholder:"选择会议开始月"},model:{value:e.listQuery.beginTime,callback:function(t){e.$set(e.listQuery,"beginTime",t)},expression:"listQuery.beginTime"}}),e._v(" "),i("el-button",{staticClass:"filter-item",attrs:{type:"primary",icon:"search"},on:{click:e.handleFilter}},[e._v("搜索")]),e._v(" "),e.otlMeetingManager_btn_add?i("el-button",{staticClass:"filter-item",staticStyle:{"margin-left":"10px"},attrs:{type:"primary",icon:"edit"},on:{click:e.handleCreate}},[e._v("添加活动")]):e._e()],1),e._v(" "),i("el-dialog",{attrs:{title:"其他组织生活",visible:e.dialogTemplate,width:"45%","close-on-click-modal":e.modalClose},on:{"update:visible":function(t){e.dialogTemplate=t}}},[e.flag?i("el-form",{ref:"formTemplate",attrs:{"label-width":"80px",rules:e.templateRule,model:e.formTemplate}},[i("el-form-item",{attrs:{label:"选择模板",prop:"mtid"}},[i("el-select",{staticStyle:{width:"60%"},attrs:{placeholder:"请选择模板"},model:{value:e.formTemplate.mtid,callback:function(t){e.$set(e.formTemplate,"mtid",t)},expression:"formTemplate.mtid"}},e._l(e.templateOptions,function(e){return i("el-option",{key:e.mtid,attrs:{label:e.title,value:e.mtid}})}))],1)],1):i("el-form",{ref:"formMeet",attrs:{"label-width":"150px",model:e.formMeet,rules:e.meet}},[i("el-form-item",{attrs:{label:"活动主题",prop:"title"}},[i("el-input",{staticStyle:{width:"60%"},attrs:{placeholder:"请输入活动主题"},model:{value:e.formMeet.title,callback:function(t){e.$set(e.formMeet,"title",t)},expression:"formMeet.title"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"开始时间",prop:"beginTime"}},[i("el-date-picker",{staticStyle:{width:"60%"},attrs:{type:"datetime",placeholder:"选择日期时间","value-format":"yyyy-MM-dd HH:mm",format:"yyyy-MM-dd HH:mm"},model:{value:e.formMeet.beginTime,callback:function(t){e.$set(e.formMeet,"beginTime",t)},expression:"formMeet.beginTime"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"结束时间",prop:"endTime"}},[i("el-date-picker",{staticStyle:{width:"60%"},attrs:{type:"datetime",placeholder:"选择日期时间","value-format":"yyyy-MM-dd HH:mm",format:"yyyy-MM-dd HH:mm"},model:{value:e.formMeet.endTime,callback:function(t){e.$set(e.formMeet,"endTime",t)},expression:"formMeet.endTime"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"拟定地点",prop:"place"}},[i("el-select",{staticStyle:{width:"60%"},attrs:{label:e.formMeet.endTime,placeholder:"请选择"},on:{change:function(t){e.placeChange(e.formMeet.place)}},model:{value:e.formMeet.place,callback:function(t){e.$set(e.formMeet,"place",t)},expression:"formMeet.place"}},e._l(e.places,function(e){return i("el-option",{key:e.id,attrs:{label:e.place,value:e.id}})}))],1),e._v(" "),i("el-form-item",{attrs:{label:"参与人员"}},[i("el-tree",{ref:"tree",attrs:{data:e.data,props:e.defaultProps,"show-checkbox":"","node-key":"id","default-checked-keys":[-1]},on:{"check-change":e.checkChange}})],1),e._v(" "),i("el-form-item",{attrs:{label:"列席人员",prop:"attendance"}},[i("el-input",{staticStyle:{width:"60%"},attrs:{placeholder:"请输入列席人员"},model:{value:e.formMeet.attendance,callback:function(t){e.$set(e.formMeet,"attendance",t)},expression:"formMeet.attendance"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"主持人",prop:"compere"}},[i("el-input",{staticStyle:{width:"60%"},attrs:{placeholder:"请输入主持人"},model:{value:e.formMeet.compere,callback:function(t){e.$set(e.formMeet,"compere",t)},expression:"formMeet.compere"}})],1),e._v(" "),i("i",{domProps:{innerHTML:e._s(e.formMeetType.content)}}),e._v(" "),i("el-form-item",{attrs:{label:"会议资料"}},[i("el-upload",{staticClass:"upload-demo",attrs:{action:"/api/olt/file/upload","on-change":e.handleChange,data:e.upLoadData,headers:e.Headers,"on-error":e.OnError,"on-success":e.OnSuccess,"show-file-list":!1}},[i("el-button",{staticStyle:{"margin-bottom":"10px"},attrs:{size:"small",type:"primary"}},[e._v("点击上传资料")])],1),e._v(" "),i("el-table",{staticStyle:{width:"100%"},attrs:{data:e.fileList3,"show-header":!1}},[i("el-table-column",{attrs:{label:"文件名",prop:"fileName"}}),e._v(" "),i("el-table-column",{attrs:{label:"操作",width:"110"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("a",{staticStyle:{color:"white"},on:{click:function(i){e.handleRemove(t.row)}}},[i("el-button",{attrs:{type:"danger",size:"small"}},[i("span",[e._v("删除")]),e._v(" "),i("i",{staticClass:"el-icon-delete el-icon--right"})])],1)]}}])})],1)],1),e._v(" "),i("div",{staticStyle:{clear:"both"}}),e._v(" "),i("el-form-item",{attrs:{label:"会议说明",prop:"remarks"}},[i("el-input",{attrs:{type:"textarea",rows:5,placeholder:"请输入会议说明"},model:{value:e.formMeet.remarks,callback:function(t){e.$set(e.formMeet,"remarks",t)},expression:"formMeet.remarks"}})],1)],1),e._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e.flag?i("el-button",{attrs:{type:"success"},on:{click:function(t){e.cancel("formTemplate")}}},[e._v("取消")]):i("el-button",{attrs:{type:"success",disabled:e.addMeetVLoading},on:{click:function(t){e.cancel("formMeet")}}},[e._v("取消")]),e._v(" "),e.flag?i("el-button",{attrs:{type:"primary"},on:{click:function(t){e.createTemplate("formTemplate")}}},[e._v("确 定")]):i("el-button",{attrs:{type:"primary",loading:e.addMeetVLoading},on:{click:function(t){e.Release("formMeet")}}},[e._v("发布")])],1)],1),e._v(" "),i("el-table",{directives:[{name:"loading",rawName:"v-loading.body",value:e.listLoading,expression:"listLoading",modifiers:{body:!0}}],key:e.tableKey,staticStyle:{width:"100%"},attrs:{data:e.list,border:"",fit:"","highlight-current-row":""}},[i("el-table-column",{attrs:{align:"center",label:"活动主题"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",[e._v(e._s(t.row.title))])]}}])}),e._v(" "),i("el-table-column",{attrs:{align:"center",label:"活动时间"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("p",{staticStyle:{margin:"0px"}},[e._v(e._s(t.row.beginTime)),i("span",{staticStyle:{color:"green"}},[e._v(" 开始")])]),i("hr",{staticStyle:{margin:"0px"},attrs:{color:"#909399"}}),i("p",{staticStyle:{margin:"0px"}},[e._v(e._s(t.row.endTime)),i("span",{staticStyle:{color:"red"}},[e._v(" 结束")])])]}}])}),e._v(" "),i("el-table-column",{attrs:{align:"center",label:"支部"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",[e._v(e._s(t.row.organizationDesc))])]}}])}),e._v(" "),i("el-table-column",{attrs:{align:"center",label:"活动跟踪",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",[e._v(e._s(t.row.meetingStatusMessage))])]}}])}),e._v(" "),i("el-table-column",{attrs:{fixed:"right",align:"center",label:"操作",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return["已取消"!=t.row.meetingStatusMessage?i("el-button",{attrs:{size:"small",type:"success"},on:{click:function(i){e.handleUpdate(t.row.mid)}}},[e._v("\n              查看\n            ")]):e._e(),e._v(" "),"已取消"!=t.row.meetingStatusMessage&&"已结束"!=t.row.meetingStatusMessage?i("el-button",{attrs:{size:"small",type:"danger"},on:{click:function(i){e.updateMeetStateMethod(t.row)}}},[e._v("\n              取消\n            ")]):e._e(),e._v(" "),"已取消"==t.row.meetingStatusMessage?i("el-button",{attrs:{disabled:!0,size:"small",type:"danger"}},[e._v("\n              已取消\n            ")]):e._e()]}}])})],1),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:!e.listLoading,expression:"!listLoading"}],staticClass:"pagination-container"},[i("el-pagination",{attrs:{"current-page":e.listQuery.page,"page-sizes":[10,20,30,50],"page-size":e.listQuery.limit,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange,"update:currentPage":function(t){e.$set(e.listQuery,"page",t)}}})],1),e._v(" "),i("el-dialog",{attrs:{title:e.dialogStatus,width:"80%",visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}},scopedSlots:e._u([{key:"default",fn:function(t){return[i("div",{attrs:{id:"subOutputRank-print"}},[i("div",{staticStyle:{"text-align":"center"}},[i("h1",[e._v(e._s(e.form[0].title))]),e._v(" "),e.showVideoButton?i("el-button",{staticStyle:{"margin-top":"-47px",float:"right"},attrs:{type:"primary",size:"small"},on:{click:function(t){e.videoconferencing(e.form[0].videoconferencingUrl)}}},[e._v("视频会议入口")]):e._e(),e._v(" "),i("el-steps",{attrs:{active:e.stepsActive,status:"wait","align-center":""}},[i("el-step",{attrs:{title:"启动",description:"活动发布成功"}}),e._v(" "),i("el-step",{attrs:{title:e.stepsActiveTitle.title1,description:e.stepsActiveTitle.description1}}),e._v(" "),i("el-step",{attrs:{title:e.stepsActiveTitle.title2,description:e.stepsActiveTitle.description2}}),e._v(" "),i("el-step",{attrs:{title:e.stepsActiveTitle.title3,description:e.stepsActiveTitle.description3}}),e._v(" "),i("el-step",{attrs:{title:e.stepsActiveTitle.title4,description:e.stepsActiveTitle.description4}}),e._v(" "),i("el-step",{attrs:{title:"结束",description:e.stepsActiveTitle.description5}})],1)],1),e._v(" "),i("p",[e._v("开始时间："+e._s(e.form[0].beginTime))]),e._v(" "),i("p",[e._v("活动地点："+e._s(e.form[0].place))]),e._v(" "),i("p",[e._v("主持人："+e._s(e.form[0].compere))]),e._v(" "),i("p",[e._v("列席人员："+e._s(e.form[0].attendance))]),e._v(" "),e._l(e.ommVo,function(t){return i("p",[e._v(e._s(t.field)+" : "+e._s(t.fieldValue))])}),e._v(" "),i("p",[e._v("会议说明："+e._s(e.form[0].remarks))]),e._v(" "),i("el-collapse",{on:{change:e.dialogHandleChange},model:{value:e.activeNames2,callback:function(t){e.activeNames2=t},expression:"activeNames2"}},[i("el-collapse-item",{attrs:{name:"2"}},[i("template",{slot:"title"},[i("svg-icon",{attrs:{"icon-class":"peoples"}}),e._v(" 参会人员 \n                    "),i("span",{staticStyle:{color:"green"}},[e._v("已读"+e._s(e.sumReadAndSisgnin.sumIsRead)+"人")]),e._v(","),i("span",{staticStyle:{color:"red"}},[e._v("未读"+e._s(e.sumReadAndSisgnin.sumNotRead)+"人")]),e._v("  |  "),i("span",{staticStyle:{color:"green"}},[e._v("已签到"+e._s(e.sumReadAndSisgnin.sumIsSisgnin)+"人")]),e._v(","),i("span",{staticStyle:{color:"red"}},[e._v("未签到"+e._s(e.sumReadAndSisgnin.sumNotSisgnin)+"人")])],1),e._v(" "),i("el-table",{directives:[{name:"loading",rawName:"v-loading.body",value:e.OmplistLoading,expression:"OmplistLoading",modifiers:{body:!0}}],key:e.tableKey,staticStyle:{width:"100%"},attrs:{data:e.ompList,border:"",fit:"","highlight-current-row":""}},[i("el-table-column",{attrs:{align:"center",label:"参与人员"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",[e._v(e._s(t.row.name))])]}}])}),e._v(" "),i("el-table-column",{attrs:{align:"center",label:"阅读状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[0===t.row.isRead?i("span",{staticStyle:{color:"red"}},[e._v("未阅读")]):e._e(),e._v(" "),1===t.row.isRead?i("span",{staticStyle:{color:"green"}},[e._v("已阅读")]):e._e()]}}])}),e._v(" "),i("el-table-column",{attrs:{align:"center",label:"阅读时间"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",[e._v(e._s(t.row.readTime))])]}}])}),e._v(" "),i("el-table-column",{attrs:{align:"center",label:"签到状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[0===t.row.isSignin?i("span",{staticStyle:{color:"red"}},[e._v("未签到")]):e._e(),e._v(" "),1===t.row.isSignin?i("span",{staticStyle:{color:"green"}},[e._v("已签到")]):e._e()]}}])}),e._v(" "),i("el-table-column",{attrs:{align:"center",label:"签到时间"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",[e._v(e._s(t.row.signTime))])]}}])})],1),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:!e.OmplistLoading,expression:"!OmplistLoading"}],staticClass:"pagination-container"},[i("el-pagination",{attrs:{"current-page":e.listQueryOmp.page,"page-sizes":[10,20,30,50],"page-size":e.listQueryOmp.limit,layout:"total, sizes, prev, pager, next, jumper",total:e.ompTotal},on:{"size-change":e.handleOmpSizeChange,"current-change":e.handleOmpCurrentChange,"update:currentPage":function(t){e.$set(e.listQueryOmp,"page",t)}}})],1)],2)],1),e._v(" "),i("el-collapse",{on:{change:e.dialogHandleChange},model:{value:e.activeNames,callback:function(t){e.activeNames=t},expression:"activeNames"}},[i("el-collapse-item",{attrs:{name:"1"}},[i("template",{slot:"title"},[i("i",{staticClass:"header-icon el-icon-upload"}),e._v(" 会议资料 \n          ")]),e._v(" "),i("el-upload",{staticClass:"upload-demo",attrs:{action:"/api/olt/file/upload","on-change":e.handleChange,data:e.upLoadData,headers:e.Headers,"on-error":e.OnError,"on-success":e.OnSuccess,"show-file-list":!1}},[i("el-button",{staticStyle:{"margin-bottom":"10px"},attrs:{size:"small",type:"primary"}},[e._v("点击上传附件")])],1),e._v(" "),i("el-table",{staticStyle:{width:"100%"},attrs:{data:e.fileList3}},[i("el-table-column",{attrs:{label:"文件名",prop:"fileName"}}),e._v(" "),i("el-table-column",{attrs:{label:"上传时间",align:"center",width:"150",prop:"createTime"}}),e._v(" "),i("el-table-column",{attrs:{label:"操作",fixed:"right",align:"center",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-button",{attrs:{size:"small"},on:{click:function(i){e.download(t.row)}}},[i("span",[e._v("下载")])]),e._v(" "),i("el-button",{attrs:{type:"danger",size:"small"},on:{click:function(i){e.handleRemove(t.row)}}},[i("span",[e._v("删除")])])]}}])})],1)],2)],1),e._v(" "),e.ifshow?i("p",[e._v("活动总结:")]):e._e(),e._v(" "),e.ifshow?i("p",[e._v(e._s(e.extendValueMapper))]):e._e(),e._v(" "),e.ifshow&&1===e.extendInfoFalg?i("el-form",{ref:"extendInfoForm",staticStyle:{width:"100%"},attrs:{model:e.extendInfoForm,rules:e.extendRules}},[i("el-form-item",{attrs:{prop:"extendValue"}},[i("el-input",{attrs:{type:"textarea",autosize:{minRows:8},placeholder:"填写会议结果"},model:{value:e.extendInfoForm.extendValue,callback:function(t){e.$set(e.extendInfoForm,"extendValue",t)},expression:"extendInfoForm.extendValue"}})],1)],1):e._e(),e._v(" "),i("div",{staticStyle:{"text-align":"right"}},[e.ifshow&&1===e.extendInfoFalg?i("el-button",{attrs:{type:"primary",loading:e.extendDisabled},on:{click:function(t){e.createExtendInfo("extendInfoForm")}}},[e._v("确 定")]):e._e(),e._v(" "),2===e.extendInfoFalg?i("el-button",{attrs:{type:"primary",disabled:e.extendDisabled},on:{click:function(t){e.extendDialogForm=!0}}},[e._v("修改结论")]):e._e()],1),e._v(" "),i("el-dialog",{attrs:{width:"30%",title:"新的会议结果",visible:e.extendDialogForm,"append-to-body":""},on:{"update:visible":function(t){e.extendDialogForm=t}}},[i("el-form",{ref:"extendUpadateForm",staticStyle:{width:"100%"},attrs:{model:e.extendInfoForm,rules:e.extendRules}},[i("el-form-item",{attrs:{prop:"extendValue"}},[i("el-input",{attrs:{type:"textarea",autosize:{minRows:8},placeholder:"填写会议结果"},model:{value:e.extendInfoForm.extendValue,callback:function(t){e.$set(e.extendInfoForm,"extendValue",t)},expression:"extendInfoForm.extendValue"}})],1)],1),e._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{type:"success",loading:e.extendDisabled},on:{click:function(t){e.updateExtendInfo("extendUpadateForm")}}},[e._v("确 认")]),e._v(" "),i("el-button",{attrs:{type:"success"},on:{click:function(t){e.extendDialogForm=!1}}},[e._v("返 回")])],1)],1)],2),e._v(" "),e.ifshow?i("el-collapse",{on:{change:e.dialogHandleChange},model:{value:e.activeNames3,callback:function(t){e.activeNames3=t},expression:"activeNames3"}},[i("el-collapse-item",{attrs:{name:"3"}},[i("template",{slot:"title"},[i("i",{staticClass:"header-icon el-icon-info"}),e._v(" 活动评论 \n              ")]),e._v(" "),i("el-table",{directives:[{name:"loading",rawName:"v-loading.body",value:e.ResultListLoading,expression:"ResultListLoading",modifiers:{body:!0}}],key:e.tableKey1,staticStyle:{width:"100%"},attrs:{data:e.resultList,border:"",fit:"","highlight-current-row":""}},[i("el-table-column",{attrs:{align:"center",label:"内容"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",[e._v(e._s(t.row.content))])]}}])}),e._v(" "),i("el-table-column",{attrs:{align:"center",label:"评论人",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",[e._v(e._s(t.row.name)),i("br"),e._v(e._s(t.row.createdTime))])]}}])})],1),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:!e.listLoading,expression:"!listLoading"}],staticClass:"pagination-container"},[i("el-pagination",{attrs:{"current-page":e.listQueryResult.page,"page-sizes":[10,20,30,50],"page-size":e.listQueryResult.limit,layout:"total, sizes, prev, pager, next, jumper",total:e.resultTotal},on:{"size-change":e.handleResultSizeChange,"current-change":e.handleResultCurrentChange,"update:currentPage":function(t){e.$set(e.listQueryResult,"page",t)}}})],1)],2)],1):e._e(),e._v(" "),i("el-form",{ref:"formResult",attrs:{model:e.formMeetResult,rules:e.meetResult}},[i("el-form-item",{attrs:{prop:"content"}},[e.ifshow?i("el-input",{attrs:{type:"textarea",autosize:{minRows:8},placeholder:"在这里对本次活动进行评论吧~"},model:{value:e.formMeetResult.content,callback:function(t){e.$set(e.formMeetResult,"content",t)},expression:"formMeetResult.content"}}):e._e()],1)],1),e._v(" "),i("p",{staticStyle:{"text-align":"right"}},[e._v("活动创建于："+e._s(e.form[0].createdTime))])]}}])},[i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e.ifshow?i("el-button",{attrs:{type:"success"},on:{click:function(t){e.addMeetResult("formResult")}}},[e._v("评 论")]):e._e(),e._v(" "),i("el-button",{attrs:{type:"success"},on:{click:function(t){e.printContent()}}},[e._v("打印")]),e._v(" "),i("el-button",{attrs:{type:"success"},on:{click:function(t){e.goBack()}}},[e._v("返 回")])],1)])],1)},staticRenderFns:[]},a=i("/Xao")(n.a,s,!1,null,null,null);t.default=a.exports}});